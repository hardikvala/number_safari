<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Number Safari - Educational Games</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(to bottom, #dff9fb, #c7ecee);
      text-align: center;
      padding: 20px;
      overflow-x: hidden;
    }
    h1 {
      color: #2a9d8f;
    }
    .mode-btn, .option-btn, .next-btn, .nav-btn {
      padding: 15px 30px;
      margin: 10px;
      font-size: 20px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      background-color: #ffcb77;
      transition: transform 0.3s, background-color 0.3s;
    }
    .mode-btn:hover, .option-btn:hover, .next-btn:hover, .nav-btn:hover {
      background-color: #f4a261;
      transform: scale(1.05);
    }
    .question {
      font-size: 26px;
      margin: 30px 0;
    }
    .score-board {
      font-size: 22px;
      margin-top: 30px;
      color: #264653;
    }
    .hidden {
      display: none;
    }
    .character {
      width: 120px;
      animation: float 2s infinite ease-in-out;
      margin-top: 10px;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }
    .nav {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <h1>🎲 Number Safari: Learn with Fun!</h1>
  <div class="nav">
    <button class="nav-btn" onclick="window.location.href='big_small_game.html'">Big vs Small Game</button>
    <button class="nav-btn" onclick="window.location.href='before_after_between.html'">Before/After/Between Game</button>
  </div>

  <div id="menu">
    <img src="https://cdn.pixabay.com/photo/2016/03/31/19/14/elephant-1298155_960_720.png" class="character" alt="Character">
    <h2>Select a Game Mode</h2>
    <button class="mode-btn" onclick="startGame('before')">Before</button>
    <button class="mode-btn" onclick="startGame('after')">After</button>
    <button class="mode-btn" onclick="startGame('between')">Between</button>
  </div>

  <div id="game" class="hidden">
    <div class="question" id="question"></div>
    <div id="options"></div>
    <button class="next-btn hidden" onclick="nextQuestion()">Next</button>
    <div class="score-board" id="score"></div>
  </div>

  <audio id="correct-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_57e0224e91.mp3?filename=success-1-6297.mp3"></audio>
  <audio id="wrong-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_1fa3b67e3e.mp3?filename=wrong-answer-129254.mp3"></audio>

  <script>
    const gameEl = document.getElementById('game');
    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const scoreEl = document.getElementById('score');
    const nextBtn = document.querySelector('.next-btn');
    const correctSound = document.getElementById('correct-sound');
    const wrongSound = document.getElementById('wrong-sound');

    let currentMode = '';
    let score = 0;
    let questionCount = 0;
    let correctAnswer = null;

    function startGame(mode) {
      currentMode = mode;
      score = 0;
      questionCount = 0;
      document.getElementById('menu').classList.add('hidden');
      gameEl.classList.remove('hidden');
      nextQuestion();
    }

    function generateQuestion(mode) {
      let num = Math.floor(Math.random() * 18) + 2; // between 2 and 19
      let questionText = '';
      let correct = 0;

      if (mode === 'before') {
        questionText = `🐘 What comes before ${num}?`;
        correct = num - 1;
      } else if (mode === 'after') {
        questionText = `🦒 What comes after ${num}?`;
        correct = num + 1;
      } else if (mode === 'between') {
        questionText = `🦓 What comes between ${num - 1} and ${num + 1}?`;
        correct = num;
      }

      correctAnswer = correct;
      questionEl.textContent = questionText;

      const options = shuffle([correct, correct + 2, correct - 2]);
      optionsEl.innerHTML = '';
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.className = 'option-btn';
        btn.onclick = () => checkAnswer(opt);
        optionsEl.appendChild(btn);
      });
    }

    function checkAnswer(answer) {
      const buttons = document.querySelectorAll('.option-btn');
      buttons.forEach(btn => btn.disabled = true);
      if (answer === correctAnswer) {
        score++;
        correctSound.play();
        alert('🎉 Correct!');
      } else {
        wrongSound.play();
        alert('❌ Try again!');
      }
      nextBtn.classList.remove('hidden');
    }

    function nextQuestion() {
      questionCount++;
      nextBtn.classList.add('hidden');
      if (questionCount > 5) {
        questionEl.textContent = `🎊 Great Job! You scored ${score} out of 5 ⭐`;
        optionsEl.innerHTML = '';
        scoreEl.textContent = '';
        nextBtn.classList.add('hidden');
        setTimeout(() => {
          location.reload();
        }, 4000);
      } else {
        generateQuestion(currentMode);
        scoreEl.textContent = `Score: ${score} / 5`;
      }
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }
  </script>
</body>
</html>
